<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brel_G6_Hard</title>
    <link rel="stylesheet" href="mycss.css">
    <script src="./myscript.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/underscore@1.13.6/underscore-umd-min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<style>
    .card {
    /* Add shadows to create the "card" effect */
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
    transition: 0.3s;
    width: 300px;
    opacity: 0;
    background-color: rgb(243, 148, 148);

}

/* On mouse-over, add a deeper shadow */
.card:hover {
    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);

}

/* Add some padding inside the card container */
.container {
    padding: 2px 16px;
}

.center {
    display: flex;
    left: 40%;
    top: 30%;
    position: fixed;
    transform: translate(-50%, -50%);
}

.box {
    text-align: center;
    font-size: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
    border-radius: 5px;
    border-color: #00ff2a;
    height: 150px;
    width: 150px;
    background-color: #ffffff;
}

.rotate {
    -webkit-transform: rotate(45deg);
    -moz-transform: rotate(45deg);
    -o-transform: rotate(45deg);
    -ms-transform: rotate(45deg);
    transform: rotate(45deg);
}

td :hover {
    opacity: 0.6;
}

.healt3 {
    background-color: #ffffff;
}

.healt2 {
    background-color: #ffec7e;
}

.healt1 {
    background-color: #f39c2b;
}

.healt0 {
    background-color: #ff0000;
}

.btn {
    width: 200px;
    height: 50px;
    border-radius: 5px;
}

.notRotate {
    display: flex;
    position: fixed;
    transform: rotate(-45deg) !important;
}

.showtime {
    display: flex;
    margin-left: 50px;
    margin-top: 50px;
}

.showhealt {
    display: flex;
    margin-left: -50px;
    margin-top: -50px;
    color: red;
}

.blueMeteorhelper {
    height: 35px;
    width: 35px;
    border-radius: 50%;
    background-color: royalblue;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    position: fixed;
    border-style: solid;
    border-color: white;
}

.yellowMeteorhelper {
    height: 35px;
    width: 35px;
    border-radius: 50%;
    background-color: yellow;
    color: black;
    display: flex;
    justify-content: center;
    align-items: center;
    position: fixed;
    border-style: solid;
    border-color: red;
}

.helpblue1 {
    margin-left: -100px;
    margin-bottom: -100px;
}

.helpblue2 {
    margin-left: -50px;
    margin-bottom: -50px;
}

.helpblue3 {
    margin-left: 50px;
    margin-bottom: 50px;
}

.helpblue4 {
    margin-left: 100px;
    margin-bottom: 100px;
}

.helpyellow12 {
    margin-left: -100px;
    margin-bottom: 100px;
}

.helpyellow3 {
    margin-left: 100px;
    margin-bottom: 100px;
}

.helpyellow6 {
    margin-left: 100px;
    margin-bottom: -100px;
}

.helpyellow9 {
    margin-left: -100px;
    margin-bottom: -100px;
}

.disableselect {
    -webkit-user-select: none;
    /* Safari */
    -ms-user-select: none;
    /* IE 10 and IE 11 */
    user-select: none;
    /* Standard syntax */
}

.fill {
    --color: #a972cb;
    --hover: #cb72aa;
}

.fill:hover {
    box-shadow: inset 0 0 0 2em var(--hover);
}

.fill2 {
    --color: #ef6eae;
    --hover: #ef8f6e;
}

.fill2:hover {
    box-shadow: inset 0 0 0 2em var(--hover);
}

.fill3 {
    --color: #ffa260;
    --hover: #e5ff60;
}

.fill3:hover {
    box-shadow: inset 0 0 0 2em var(--hover);
}
.fill4 {
    --color: #e4cb58;
    --hover: #94e458;
}

.fill4:hover {
    box-shadow: inset 0 0 0 2em var(--hover);
}
.fill5 {
    --color: #8fc866;
    --hover: #66c887;
}

.fill5:hover {
    box-shadow: inset 0 0 0 2em var(--hover);
}
.fill6 {
    --color: #19bc8b;
    --hover: #1973bc;
}

.fill6:hover {
    box-shadow: inset 0 0 0 2em var(--hover);
}

.fill7 {
    --color: #19a9bc;
    --hover: #6b61f7;
}

.fill7:hover {
    box-shadow: inset 0 0 0 2em var(--hover);
}

.fill8 {
    --color: #1924bc;
    --hover: #f761be;
}

.fill8:hover {
    box-shadow: inset 0 0 0 2em var(--hover);
}


button {
    color: var(--color);
    transition: 0.25s;
    text-transform: none;
    overflow: visible;

    background: none;
    border: 2px solid;
    font: inherit;
    line-height: 1;
    margin: 0.5em;
    padding: 1em 2em;
}
</style>
<script>
    document.addEventListener('contextmenu', event => event.preventDefault());
window.onload = function () {
    var td = document.getElementsByTagName("td")
    for (let i = 0; i < td.length; i++) {
        td[i].addEventListener('contextmenu', function (event) {
            console.log(event);
            event.preventDefault();
            yellowmeteor(td[i].id)
            return false;
        }, false);
        td[i].addEventListener('auxclick', function (e) {
            if (e.button == 1) {
                BlueMeteorNotInMech(td[i].id);
            }
        })
    };
}
const defaluttileSpawn = 100000;
var passShandi = false;
var tiles = [
    { id: 12, healt: 3 },
    { id: 1, healt: 3 },
    { id: 3, healt: 3 },
    { id: 11, healt: 3 },
    { id: 0, healt: 14 },
    { id: 5, healt: 3 },
    { id: 9, healt: 3 },
    { id: 7, healt: 3 },
    { id: 6, healt: 3 },
]
var action = [];
var queue = [];
var queueTime = [];
var pattenblue = [2, 3, 4, 3, 4, 3, 4, 3, 4];
var pattenyellow = [1, 1, 1, 1];
var tilebrokens = [];
var Mode = ""

function meteor(a) {
    console.log("meteor");
    console.log(a.id);
    let tile = _.find(tiles, (item) => item.id == a.id);
    addAction("b", a.id, true);
    cutBluePatten()
}

function yellowmeteor(id) {
    console.log("yellowmeteor")
    console.log(id)
    addAction("y", id, true);
    //chain 
    let centerYellowIndex = _.findIndex(tiles, (item) => item.id == id);
    if ([0, 8].includes(centerYellowIndex)) {
        ((centerYellowIndex - 3) >= 0 && !queue.includes(centerYellowIndex - 3)) ? addAction("y", tiles[centerYellowIndex - 3].id) : '';
        ((centerYellowIndex - 1) >= 0 && !queue.includes(centerYellowIndex - 1)) ? addAction("y", tiles[centerYellowIndex - 1].id) : '';
        ((centerYellowIndex + 1) <= 8 && !queue.includes(centerYellowIndex + 1)) ? addAction("y", tiles[centerYellowIndex + 1].id) : '';
        ((centerYellowIndex + 3) <= 8 && !queue.includes(centerYellowIndex + 3)) ? addAction("y", tiles[centerYellowIndex + 3].id) : '';
        addAction("y", 0);
    } else if ([2, 6].includes(centerYellowIndex)) {
        if (centerYellowIndex == 2) {
            !queue.includes(centerYellowIndex - 1) ? addAction("y", tiles[centerYellowIndex - 1].id) :'';
            !queue.includes(centerYellowIndex + 3) ? addAction("y", tiles[centerYellowIndex + 3].id) :'';
            addAction("y", 0);
        }
        if (centerYellowIndex == 6) {
            !queue.includes(centerYellowIndex - 3) ? addAction("y", tiles[centerYellowIndex - 3].id):'';
            !queue.includes(centerYellowIndex + 1) ? addAction("y", tiles[centerYellowIndex + 1].id):'';
            addAction("y", 0);
        }
    } else {
        GameOverPopup();
    }
    cutYellowPatten();
}
function GameOverPopup() {
    const Toast = Swal.mixin({
        toast: true,
        position: 'top-end',
        showConfirmButton: false,
        timer: 3000,
        timerProgressBar: true,
        didOpen: (toast) => {
            toast.addEventListener('mouseenter', Swal.stopTimer)
            toast.addEventListener('mouseleave', Swal.resumeTimer)
        }
    })
    Toast.fire({
        icon: 'error',
        title: 'Restart Now'
    })
}
function calHealt() {
    tiles = [
        { id: 12, healt: 3 },
        { id: 1, healt: 3 },
        { id: 3, healt: 3 },
        { id: 11, healt: 3 },
        { id: 0, healt: 14 },
        { id: 5, healt: 3 },
        { id: 9, healt: 3 },
        { id: 7, healt: 3 },
        { id: 6, healt: 3 },
    ]
    action.forEach((ac) => {
        let damage = ac.meteor == "b" ? 1 : 3;
        let tileIndex = _.findIndex(tiles, (item) => item.id == ac.tileId);

        if (ac.meteor == "fix") {
            damage = -1
        }
        tiles[tileIndex].healt -= damage;
        if (ac.meteor == "reset") {
            tiles[tileIndex].healt = 3
        }
    });
    changehtml();
}

function ResetTiles() {
    tiles = [
        { id: 12, healt: 3 },
        { id: 1, healt: 3 },
        { id: 3, healt: 3 },
        { id: 11, healt: 3 },
        { id: 0, healt: 14 },
        { id: 5, healt: 3 },
        { id: 9, healt: 3 },
        { id: 7, healt: 3 },
        { id: 6, healt: 3 },
    ]
    action = [];
    calHealt();
}

function undo() {
    let i = 0 ;
    const isClickExists = _.some(action, (obj) => obj.isClick === true);
    if(!isClickExists){
        return;
    }
    while(true){
        i++
        if(i == 100){
            break;
        }
        let a = action.pop();
        let lastedY = _.max(queueTime, (item)=>{ return item.time});
        let lastedTimeY = lastedY.time;
        if(a.meteor == 'y'){
            countdown(a.tileId,true);
        }
        if(a.isClick == true){
            if(a.meteor == 'b'){
                let getbackupblue = backupCutBlueAction.pop();
                if(getbackupblue == 'shift'){
                    pattenblue.unshift(1);
                }else if(getbackupblue == 1){
                    pattenblue[0]++;
                }

            }
            calHealt();
            calHealper();
            break;
        }
    }
    calHealt();
}

function addAction(meteor, id, isClick) {
    let meteorType = ""
    switch (meteor) {
        case "b":
            meteorType = "b"
            break;
        case "y":
            meteorType = "y"
            break;
        case "reset":
            meteorType = "reset"
            break;
        case "fix":
            meteorType = "fix"
            break;
    }
    let newAction = {
        meteor: meteorType,
        tileId: id,
        isClick: isClick
    }
    action.push(newAction);
    calHealt();
}

function changehtml() {
    tiles.forEach((item) => {
        let tilehtml = document.getElementById(item.id);
        let healt = item.healt <= 0 ? 0 : item.healt;
        let tileHealt = document.getElementById(`healt${item.id}`)
        if (healt == 0 && !queue.includes(item.id)) {
            queue.push(item.id);
            tilebroken(item.id);
            tilebrokens.push(item.id)
        }
        tilehtml.firstElementChild.className = `box healt${healt}`
        tileHealt.innerHTML = healt;
    })
}

function tilebroken(id) {

    setTimeout(() => {
        addAction("reset", id);
        var queueIndex = _.findIndex(queue, (item) => item == id);
        queue.splice(queueIndex, 1);
        tilebrokens.splice(queueIndex, 1);
    }, defaluttileSpawn)
    countdown(id);
}

function helper() {

}

function reset() {
    tiles = [
        { id: 12, healt: 3 },
        { id: 1, healt: 3 },
        { id: 3, healt: 3 },
        { id: 11, healt: 3 },
        { id: 0, healt: 14 },
        { id: 5, healt: 3 },
        { id: 9, healt: 3 },
        { id: 7, healt: 3 },
        { id: 6, healt: 3 },
    ]
    for(let i = 0 ; i < queueTime.length; i++){
        countdown(queueTime[i].id,true);
        i--;
    }
    action = [];
    queue = [];
    queueTime = [];
    Mode = "";
    useGuide = false;
    pattenblue = [2, 3, 4, 3, 4, 3, 4, 3, 4];
    pattenyellow = [1, 1, 1, 1];
    calHealt();
    changehtml();
    ClearBlueHealper();
    ClearYellowHealper();
    // location.reload();
}

function setStart() {
    tiles = [
        { id: 12, healt: 3 },
        { id: 1, healt: 3 },
        { id: 3, healt: 3 },
        { id: 11, healt: 3 },
        { id: 0, healt: 14 },
        { id: 5, healt: 3 },
        { id: 9, healt: 3 },
        { id: 7, healt: 3 },
        { id: 6, healt: 3 },
    ]
    action = [];
    queue = [];
    pattenblue = [2, 3, 4, 3, 4, 3, 4, 3, 4];
    calHealt();
    addAction("y", 6);
    addAction("y", 5);
    addAction("y", 7);
    addAction("y", 0);
    addAction("b", 9);
    addAction("b", 11);
    addAction("b", 12);
    addAction("b", 1);
    addAction("b", 1);
    Mode = "Hard"
    calHealper()
}
function BlueMeteorNotInMech(id) {
    addAction("b", id);
    calHealper();
}
function countdown(id,isStop = false) {
    var seconds = defaluttileSpawn / 1000;
    function tick() {
        seconds--;
        let isHaveinqueue = false;
        queueTime.forEach(q => {
            if (q.id == id) {
                isHaveinqueue = true;
            }
        });
        if (!isHaveinqueue) {
            queueTime.push(
                {
                    id: id,
                    time: seconds,
                    timeout:null
                }
            );
        } else {
            var queueIndex = _.findIndex(queueTime, (item) => item.id == id);
            queueTime[queueIndex].time = seconds;
        }
        var time = document.getElementById(`time${id}`);
        var text = `${seconds >= 60 ? 1 : 0}: ${seconds % 60 < 10 ? '0' : ''}${seconds % 60}`
        time.innerHTML = text
        if (seconds >= 0 && !isStop) {
            var queueIndex = _.findIndex(queueTime, (item) => item.id == id);
            queueTime[queueIndex].timeout = setTimeout(tick, 1000);
        } else {
            time.innerHTML = '';
            var queueIndex = _.findIndex(queueTime, (item) => item.id == id);
            clearTimeout(queueTime[queueIndex].timeout)
            queueTime.splice(queueIndex, 1);
            calHealper();
        }

    }
    tick();
}

function ClearBlueHealper() {
    tiles.forEach((t) => {
        let element = document.getElementById(t.id)
        for (let i = element.childNodes[1].children.length - 1; i > 0; i--) {
            if (element.childNodes[1].children[i].className.includes("blueMeteorhelper")) {
                element.childNodes[1].children[i].remove();
            }
        }
    });
}
function ClearYellowHealper() {
    tiles.forEach((t) => {
        let element = document.getElementById(t.id)
        for (let i = element.childNodes[1].children.length - 1; i > 0; i--) {
            if (element.childNodes[1].children[i].className.includes("yellowMeteorhelper")) {
                element.childNodes[1].children[i].remove();
            }
        }
    });
}

function drawbluehealper(tid, sequence) {
    if(tid == null){
        return;
    }
    let element = document.getElementById(tid);
    element.childNodes[1].innerHTML += `<div class='blueMeteorhelper notRotate helpblue${sequence}'>${sequence}</div>`
}
function drawyellowhealper(tid) {
    //12,3,6,9
    if ([12, 3, 6, 9].includes(tid)) {
        let element = document.getElementById(tid);
        element.childNodes[1].innerHTML += `<div class='yellowMeteorhelper notRotate helpyellow${tid}'>Y</div>`
    }
}
function calYellow() {
    let reverseaction = [...action];
    let lastedYellow = _.findWhere(reverseaction.reverse(), { meteor: 'y', isClick: true })
    let lastedyellowRecommend = pattenyellow.length + 1 % 2 == 0 ? 12 : 6;
    if (lastedYellow?.tileId == lastedyellowRecommend || lastedYellow == null) {
        return pattenyellow.length % 2 == 0 ? 12 : 6;
    } else {
        let TopHp = 0;
        zone["top"].forEach((i) => {
            let tileIndex = findTileIndex(i);
            TopHp += tiles[tileIndex].healt;
        })
        let BottomHp = 0;
        zone["bottom"].forEach((i) => {
            let tileIndex = findTileIndex(i);
            BottomHp += tiles[tileIndex].healt;
        })
        return TopHp >= BottomHp ? 6 : 12;
    }
}
const zone = {
    "top": [11, 1, 12],
    "bottom": [6, 7, 5],
    "flex": [9, 0, 3],
}
function calHealper() {
    ClearBlueHealper()
    ClearYellowHealper();
    let orderb = document.getElementById("orderB");
    orderb.innerHTML = `Mode : ${Mode}`
    let dropblue = [];
    let yellowRecommend = pattenyellow.length % 2 == 0 ? 12 : 6;
    let BrokenTileAfter1min = calTileBrokenAfter1min();
    let ZoneRecommend = "";
    switch (yellowRecommend) {
        case 12:
            ZoneRecommend = "top"
            break;
        case 6:
            ZoneRecommend = "bottom"
            break;
    }
    let canNuke = BrokenTileAfter1min < 3 ? true : false;
    tilebrokens.forEach((i) => {
        if (zone[ZoneRecommend].includes(i)) {
            canNuke = false;
        }
    })

    tiles.forEach((t) => {
        if (t.id == yellowRecommend) {
            drawyellowhealper(calYellow());
        }
        if ((canNuke && passShandi) || (pattenblue.length > 7 && pattenblue.length < 9)) {
            dropblue = calBlue(true, yellowRecommend);
        } else {
            dropblue = calBlue(false, yellowRecommend);
        }
    });
    dropblue = sortAndGroup(dropblue);
    dropblue.forEach((b, index) => {
        drawbluehealper(b, index + 1)
    });
}
let backupCutBlueAction = [];
function cutBluePatten() {
    pattenblue[0]--
    backupCutBlueAction.push(1);
    if (pattenblue[0] > 0) {
    } else {
        pattenblue.shift();
        backupCutBlueAction.push("shift");
        calHealper()
    }

}
function cutYellowPatten() {
    pattenyellow.shift();
    calHealper()
}

function calTileBrokenAfter1min() {
    let BrokenTileAfter1min = 0;
    queueTime.forEach((q) => {
        if (q.time > 60) {
            BrokenTileAfter1min++;
        }
    })
    return BrokenTileAfter1min;
}

function passShandiF() {
    passShandi = true;
    calHealper()
    document.getElementById("shandiBtn").style.backgroundColor = "#04FF00";
}
function calBlue(canNuke, yellowRecommend) {
    let ZoneRecommend;
    if (pattenblue.length == 0) {
        return;
    }
    let blueMeteorCount = pattenblue[0];
    let dropplace = [];
    switch (yellowRecommend) {
        case 12:
            ZoneRecommend = "top"
            break;
        case 6:
            ZoneRecommend = "bottom"
            break;
    }
    let recommendtileHpMorethan1 = findTileCanDropMeteor(zone[ZoneRecommend])
    let oppositetileHpMorethan1 = findTileCanDropMeteor(zone[getOpposite(ZoneRecommend)])
    if (canNuke) {
        let nukeid = findNuke(ZoneRecommend);
        dropplace.push(nukeid);
        dropplace.push(nukeid);
        blueMeteorCount = blueMeteorCount - 2;
        let canUseTile = recommendtileHpMorethan1.concat(oppositetileHpMorethan1);

        let BrokenTileAfter1min = calTileBrokenAfter1min();
        let backupTile = findTileCanDropMeteor([9, 0, 3])
        if (BrokenTileAfter1min == 0 && recommendtileHpMorethan1.length == 0) {
            if (queueTime.length > 0) {
                var canuseTileAfter1min = findTileCanDropMeteorAfter1Min();
                canUseTile = canuseTileAfter1min;
            }
        }
        // cut nuke id because it can place only 2 in 1 tile
        canUseTile = canUseTile.filter((x) => x !== nukeid);
        for (let i = 0; i < blueMeteorCount; i++) {
            if (canUseTile.length > 0) {
                dropplace.push(canUseTile.shift());
            } else {
                dropplace.push(backupTile.shift());
            }
        }
    } else {
        let canUseTile = recommendtileHpMorethan1.concat(oppositetileHpMorethan1);
        let backupTile = findTileCanDropMeteor([9, 0, 3])
        for (let i = 0; i < blueMeteorCount; i++) {
            if (canUseTile.length > 0) {
                dropplace.push(canUseTile.shift());
            } else {
                dropplace.push(backupTile.shift());
            }
            // if (recommendtileHpMorethan1.length > 0) {
            //     dropplace.push(recommendtileHpMorethan1.pop());

            // } else if (oppositetileHpMorethan1.length > 0) {
            //     (recommendtileHpMorethan1.pop());
            // }
        }
    }

    return dropplace;
}
function getOpposite(zone) {
    switch (zone) {
        case "top":
            return "bottom";
            break;
        case "bottom":
            return "top";
            break;
        case "right":
            return "left";
            break;
        case "left":
            return "right";
            break;
    }
    return null;
}

function findTileCanDropMeteor(Finds) {
    let returnTile = [];
    // add backup
    Finds.forEach((i) => {
        let tileindex = findTileIndex(i);
        let temptile = tiles[tileindex];
        let healt = temptile.healt;
        if (i == 0) {
            healt = temptile.healt % 3;
            if (healt == 0) {
                GameOverPopup();
            }
        }
        for (let r = 0; r < healt; r++) {
            if (healt > 1) {
                returnTile.push(temptile.id);
                healt--;
            }
        }
    })
    return returnTile;
}

function findTileIndex(Id) {
    return _.findIndex(tiles, (item) => item.id == Id);
}
function findNuke(ZoneRecommend) {
    let lower = {
        id: -1,
        healt: 99
    }
    zone[ZoneRecommend].forEach((i) => {
        if (![12, 3, 6, 9].includes(i)) {
            if (lower.id == -1) {
                lower.id = i;
            }
            let tileindex = findTileIndex(i)
            if (tiles[tileindex].healt < lower.healt && tiles[tileindex].healt > 0) {
                lower.healt = tiles[tileindex].healt;
            }
        }
    })

    return lower.id;
}
function findTileCanDropMeteorAfter1Min() {
    let returnTile = [];
    if (queueTime.length > 0) {
        queueTime.forEach((q) => {
            if (q.time < 60) {
                returnTile.push(q.id);
                returnTile.push(q.id);
            }
        })
    }
    return returnTile;
}

function sortAndGroup(arr) {
    let counts = {};

    if(arr?.length == 0 || arr == null){
        return;
    }
    arr.forEach((num) => {
        counts[num] = counts[num] ? counts[num] + 1 : 1;
    });

    arr.sort((a, b) => {
        if (counts[b] === counts[a]) {
            return arr.indexOf(a) - arr.indexOf(b);
        } else {
            return counts[b] - counts[a];
        }
    });

    return arr;
}

var useGuide = false;
function guide(){
    useGuide = !useGuide;
    var card = document.getElementsByClassName("card");
    for(let i = 0 ; i < card.length ; i++){
        card[i].style.opacity = useGuide ? 1 :0;
    }
}

function Manual(){
    reset();
    Mode = "Manual"
    var calmanual = document.getElementsByClassName("calmanual");
    for(let i = 0 ; i < calmanual.length ; i++){
        calmanual[i].style.display = "inline";
    }
    let orderb = document.getElementById("orderB");
    pattenblue = [];
    orderb.innerHTML = `Mode : ${Mode}`
    calHealper();
    
}
function cal3M(){
    pattenblue[0] = 3
    calHealper();
}

function cal4M(){
    pattenblue[0] = 4
    calHealper();
}
</script>
<body style="background-image: url('https://github.githubassets.com/images/modules/site/home-campaign/hero-bg.webp');">
    <center>
        <button class="fill" onclick="guide()"> guide </button>
        <button class="fill2" onclick="setStart()"> Hard </button>
        <!-- <button class="btn" onclick="undo()()"> undo </button> -->
        <button class="fill3" onclick="undo()"> undo </button>
        <button class="fill4" onclick="reset()"> reset </button>
        <button class="fill5" style="background-color: red;" onclick="passShandiF()" id="shandiBtn"> Pass Shandi </button>
        <button class="fill6" onclick="Manual()"> manual </button>
        <button class="fill7 calmanual" style="display: none;" onclick="cal3M()"> cal 3 Meteor </button>
        <button class="fill8 calmanual" style="display: none;" onclick="cal4M()"> cal 4 Meteor </button>
        <h1 style="color: white;" id="orderB">Mode </h1>
    </center>
    <div class="card">
        <div class="container">
            <h4><b>Guide</b></h4>
            <p><text style="color: red; font-weight: bold;">Left Click</text> For place<text
                    style="color: rgb(0, 60, 255); font-weight: bold;"> blue</text> Meteor</p>
            <p><text style="color: red; font-weight: bold;">Right Click</text> For place <text
                    style="background-color: black; color: rgb(255, 251, 0); font-weight: bold;"> yellow </text> Meteor
            </p>
            <p><text style="color: red; font-weight: bold;">Middle Click</text> For place<text
                    style="color: rgb(0, 60, 255); font-weight: bold;"> blue</text> Meteor <text
                    style="color: red;">but</text> Not in Mechanic</p>
        </div>
    </div>
    <div class="card" style="margin-top: 20px;">
        <div class="container">
            <h4><b>Note </b></h4>
            <p> If you pass a Shandi Please Click Button "Pass Shandi" it will calculate where tile can Nuke</p>
        </div>
    </div>
    <div class="center rotate disableselect">
        <table id="table">
            <tr>
                <td id="12" onclick="meteor(this)">
                    <div class="box state1">
                        <div class="notRotate">12</div>
                        <div class="notRotate showtime" id="time12"></div>
                        <div class="notRotate showhealt" id="healt12">3</div>
                    </div>
                </td>
                <td id="1" onclick="meteor(this)">
                    <div class="box state2">
                        <div class="notRotate">1</div>
                        <div class="notRotate showtime" id="time1"></div>
                        <div class="notRotate showhealt" id="healt1">3</div>
                    </div>
                </td>
                <td id="3" onclick="meteor(this)">
                    <div class="box">
                        <div class="notRotate">3</div>
                        <div class="notRotate showtime" id="time3"></div>
                        <div class="notRotate showhealt" id="healt3">3</div>
                    </div>
                </td>
            </tr>
            <tr>
                <td id="11" onclick="meteor(this)">
                    <div class="box">
                        <div class="notRotate">11</div>
                        <div class="notRotate showtime" id="time11"></div>
                        <div class="notRotate showhealt" id="healt11">3</div>
                    </div>
                </td>
                <td id="0" onclick="meteor(this)">
                    <div class="box state3">
                        <div class="notRotate">0</div>
                        <div class="notRotate showtime" id="time0"></div>
                        <div class="notRotate showhealt" id="healt0">14</div>
                    </div>
                </td>
                <td id="5" onclick="meteor(this)">
                    <div class="box">
                        <div class="notRotate">5</div>
                        <div class="notRotate showtime" id="time5"></div>
                        <div class="notRotate showhealt" id="healt5">3</div>
                    </div>
                </td>
            </tr>
            <tr>
                <td id="9" onclick="meteor(this)">
                    <div class="box">
                        <div class="notRotate">9</div>
                        <div class="notRotate showtime" id="time9"></div>
                        <div class="notRotate showhealt" id="healt9">3</div>
                    </div>
                </td>
                <td id="7" onclick="meteor(this)">
                    <div class="box">
                        <div class="notRotate">7</div>
                        <div class="notRotate showtime" id="time7"></div>
                        <div class="notRotate showhealt" id="healt7">3</div>
                    </div>
                </td>
                <td id="6" onclick="meteor(this)">
                    <div class="box">
                        <div class="notRotate">6</div>
                        <div class="notRotate showtime" id="time6"></div>
                        <div class="notRotate showhealt" id="healt6">3</div>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</body>

</html>